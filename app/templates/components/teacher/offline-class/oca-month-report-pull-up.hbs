{{#if showPullUp}}
  <div class="backdrop" {{action 'onPullUpClose' true}}></div>
{{/if}}
<div class="oca-month-report-container">
  <div class="report-header">
    <div class="header-title">
      <span class="title">Activity Report</span>
      <span class="month">{{format-month context.month}} {{context.year}}</span>
    </div>
    <div class="close" {{action 'onPullUpClose' false}}>
      {{gru-icon name="close"}}
    </div>
  </div>
  <div class="performance-activity" style="background-color:{{if context (grade-color context.scoreInPercentage)}}">
    <div class="performance" style="background-color:{{if context (grade-color context.scoreInPercentage)}}">
      <span class="score">{{context.scoreInPercentage}}%</span>
      <span class="time-spent">{{format-time context.timeSpent}}</span>
    </div>
  </div>
  <div class="report-activity-container">
    {{#each classActivities as |activity|}}
      <div class="activity-row-container {{unless activity.collection.performance 'not-started'}}" {{action 'onSelectActivity' activity}}>
        <div class="activity-info">
          <i class="icon {{activity.collection.collectionType}}"></i>
          <span class="title">{{activity.collection.title}}</span>
        </div>
        {{#if activity.collection.performance}}
          {{#if (or (eq activity.collection.collectionType 'assessment') (eq activity.collection.collectionType 'assessment-external'))}}
            <div class="score" style="background-color:{{if  activity.collection.performance (grade-color activity.collection.performance.score)}}">{{ activity.collection.performance.score}}%</div>
          {{else}}
            <div class="timespent">{{format-time activity.collection.performance.timeSpent}}</div>
          {{/if}}
        {{else}}
          <div class="not-started">Not Started</div>
        {{/if}}
      </div>
    {{/each}}
  </div>
</div>


{{#if isShowStudentsSummaryReport}}
  {{teacher.offline-class.oca-students-summary-report-pull-up context=selectedActivity classId=classId onClosePullUp="pullUpClose"}}
{{/if}}
