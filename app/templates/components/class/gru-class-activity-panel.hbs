<div class="dca-panel-container {{if isUnScheduled 'unscheduled'}} {{if classActivity.isNewlyAdded 'new'}} {{if isActivityPast 'past-date'}}">
  {{#unless isUnScheduled}}
    <div class="ca-panel-container-1">
      <div class="icon">
        <i class="{{classActivity.contentType}}-icon" />
      </div>
      <div class="title ellipsis" {{action 'onPlayContent' item}}>
        <span>{{classActivity.title}}</span>
      </div>
      <div class="resource-info">
        {{#if (gt classActivity.resourceCount 0)}}
          <div class="resource-count">
            <i class="resource-icon"></i>
            <span>{{classActivity.resourceCount}}</span>
          </div>
        {{/if}}
        {{#if (gt classActivity.questionCount 0)}}
          <div class="question-count">
            <i class="question-icon"></i>
            <span>{{classActivity.questionCount}}</span>
          </div>
        {{/if}}
        {{#if (or (eq item.collectionType 'assessment-external' ) (eq item.collectionType 'collection-external'))}}
          <i class="external-icon"></i>
        {{/if}}
        {{#if (gt item.oeQuestionCount 0)}}
          <div class="dca-rubric-icon">
            <i data-toggle="tooltip" data-html="true" data-placement="bottom" title="{{t "common.rubric"}}" class="rubric-icon"></i>
          </div>
        {{/if}}
      </div>
      <div class="activate">
        {{#if showDcaAssignButton}}
          <span class="dca-assign" data-toggle="tooltip" data-html="true" data-placement="top" title="{{t "common.assign"}}">
            {{#unless classActivity.isActive}}
              {{gru-switch switchOptions=switchOptions onOptionSwitch='changeVisibility' isChecked=classActivity.isActive item=item}}
            {{else}}
              {{gru-switch class="assigned" switchOptions=switchOptions  isChecked=classActivity.isActive item=item}}
            {{/unless}}
          </span>
        {{/if}}
      </div>
      <div class="more">
        <span {{action 'showMore'}}>
          {{gru-icon name="more_vert"}}
        </span>
      </div>
      <div class="performance">
        <div class="dca-panel-actions-performance">
          {{#if collectionPerformanceSummary}}
            {{#if (and (not-eq item.collectionType 'collection' ) (not-eq item.collectionType 'collection-external'))}}
              <div class="dca-panel-performance" {{action 'openDcaContentReport' classActivity}} style="background-color:{{grade-color collectionPerformanceSummary.score}}">
                <span class="assessment-score">{{collectionPerformanceSummary.score}}%</span>
                {{#if collectionPerformanceSummary.timeSpent}}
                  <span class="assessment-timespent">{{format-time collectionPerformanceSummary.timeSpent}}</span>
                {{/if}}
              </div>
            {{else}}
              <div class="dca-panel-performance collection" {{action 'openDcaContentReport' classActivity}}>
                <span class="time-spent">
                  {{if collectionPerformanceSummary.timeSpent (format-time collectionPerformanceSummary.timeSpent) '--'}}
                </span>
              </div>
            {{/if}}
          {{else}}
            {{#if isShowAddData}}
              <div class="dca-panel-performance add-data {{if (eq classActivity.usersCount 0)'disabled'}}" {{action "onOpenPerformanceEntry" item classActivity false}}>
                {{t 'common.add-data'}}
              </div>
            {{else}}
              <div class="dca-panel-performance not-started">
                <span class="no-performance">--</span>
              </div>
            {{/if}}
          {{/if}}
        </div>
      </div>
    </div>
    <div class="ca-panel-container-2 {{if isShowMore 'visible'}}">
      <div class="ca-actions">
        <div class="student-count {{if showCohort 'active'}}">
          {{gru-icon name="account_circle"}}
          {{#if (eq classActivity.usersCount -1)}}
            <span {{action 'showStudentList'}}>{{t 'common.all'}}</span>
          {{else if (eq classActivity.usersCount 0)}}
            <span {{action 'showStudentList'}}>{{t 'common.none'}}</span>
          {{else}}
            <span {{action 'showStudentList'}}> {{classActivity.usersCount}}</span>
          {{/if}}
        </div>
        <div class="re-schedule">
          <div class="re-schedule-activity ca-datepicker-popover" onclick={{action 'onScheduleContentToDCA' classActivity}}>
            {{#if collectionPerformanceSummary}}
              {{gru-icon name="replay"}}
              <span class="hidden-xs">{{t 'common.repeat-activity'}}</span>
            {{else}}
              {{gru-icon name="update"}}
              <span class="hidden-xs">{{t 'common.Reschedule'}}</span>
            {{/if}}
          </div>
        </div>
        <div class="mastery-accrual">
          {{#if (and showMasteryAccrual item.masteryAccrualCompetencies)}}
            <div class="mastery-accrual-btn {{if isActivityPast 'disable-event'}}" {{action "onUpdateMasteryAccrual"}}>
              <span class="mastery-accrual-icon mastery-accrual-{{if classActivity.allowMasteryAccrual 'checked' 'unchecked'}}">
                {{gru-icon name=(concat 'radio_button_' (if  classActivity.allowMasteryAccrual 'checked' 'unchecked'))}}
              </span>
              <span class="mastery-accrual-text  hidden-xs">{{t 'common.mastery'}}</span>
            </div>
          {{/if}}
        </div>
      </div>
      <div class="dca-btn">
        {{#if enableCollectionLiveLearning}}
          {{#if (and showGolive (or (eq item.collectionType 'assessment') (eq item.collectionType 'collection'))) }}
            <i data-toggle="tooltip" data-html="true" data-placement="bottom" title="{{t "common.launch-on-air"}}" class="golive-icon" {{action 'goLive' item}}></i>
          {{/if}}
        {{else}}
          {{#if (and showGolive (eq item.collectionType 'assessment') ) }}
            <i data-toggle="tooltip" data-html="true" data-placement="bottom" title="{{t "common.launch-on-air"}}" class="golive-icon" {{action 'goLive' item}}></i>
          {{/if}}
        {{/if}}
        {{#if isOfflineActivity}}
          <div class="oa-complete">
            {{input type="checkbox"}}<span>{{t 'common.completed'}}</span>
          </div>
        {{/if}}
      </div>
      <div class="delete-activity">
        <i class="close-icon" data-toggle="tooltip" data-html="true" data-placement="top" title="{{t "common.remove"}}" {{action 'removeClassActivity' classActivity}}></i>
      </div>
      <div class="thumbnail-img">
        {{#if item.thumbnailUrl}}
          <img src="{{item.thumbnailUrl}}" />
        {{else if classActivity.thumbnail}}
          <img src="{{classActivity.thumbnail}}" />
        {{/if}}
      </div>
    </div>
  {{else}}
    <div class="ca-panel-container-1 unschedule">
      <div class="icon">
        <i class="{{classActivity.contentType}}-icon" />
      </div>
      <div class="title ellipsis" {{action 'onPlayContent' item}}>
        <span>{{classActivity.title}}</span>
      </div>
      <div class="resource-info">
        {{#if (gt classActivity.resourceCount 0)}}
          <div class="resource-count">
            <i class="resource-icon"></i>
            <span>{{classActivity.resourceCount}}</span>
          </div>
        {{/if}}
        {{#if (gt classActivity.questionCount 0)}}
          <div class="question-count">
            <i class="question-icon"></i>
            <span>{{classActivity.questionCount}}</span>
          </div>
        {{/if}}
        {{#if (or (eq item.collectionType 'assessment-external' ) (eq item.collectionType 'collection-external'))}}
          <i class="external-icon"></i>
        {{/if}}
        {{#if (gt item.oeQuestionCount 0)}}
          <div class="dca-rubric-icon">
            <i data-toggle="tooltip" data-html="true" data-placement="bottom" title="{{t "common.rubric"}}" class="rubric-icon"></i>
          </div>
        {{/if}}
      </div>
      <div class="ca-panel-reschedule ca-datepicker-popover" onclick={{action 'onScheduleContentToDCA' classActivity}}>
        <span class="icon"> {{gru-icon name="update"}}</span>
        <span>{{t 'common.schedule'}}</span>
      </div>
      <div class="thumbnail-img">
        {{#if item.thumbnailUrl}}
          <img src="{{item.thumbnailUrl}}" />
        {{else if classActivity.thumbnail}}
          <img src="{{classActivity.thumbnail}}" />
        {{/if}}
      </div>
    </div>
  {{/unless}}
</div>
{{#if showStudentListPullup}}
  {{teacher.class.ca-student-list-pull-up isActivityPast=isActivityPast classId=classId classActivity=classActivity members=members showPullUp=showStudentListPullup}}
{{/if}}
{{#if isShowStudentsSummaryReport}}
  {{teacher.offline-class.oca-students-summary-report-pull-up context=selectedActivity classActivities=activities classId=classId showPullUp=isShowStudentsSummaryReport onClosePullUp="pullUpClose"}}
{{/if}}
