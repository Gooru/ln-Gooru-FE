<div class="dca-panel-container {{if isUnScheduled 'unscheduled'}} {{if classActivity.isNewlyAdded 'new'}} {{if isActivityPast 'past-date'}}">
  <div class="ca-panel-container-1">
    <div class="dca-panel-info {{if tags.length 'has-tags'}}">
      <i class="{{item.collectionType}}-icon" />
      <p {{action 'onPlayContent' item}}>{{item.title}}</p>
      {{#if tags.length}}
        <div class="collection-standards">
          {{taxonomy.gru-taxonomy-tag-list tags=tags tagsVisible=1 isInCard=true}}
        </div>
      {{/if}}
    </div>
    <div class="dca-content-counts">
      <div class="resource-count">
        {{#if (gt item.resourceCount 0)}}
          <i class="resource-icon"></i>
          <span>{{item.resourceCount}}</span>
        {{/if}}
      </div>
      <div class="question-count">
        {{#if (gt item.questionCount 0)}}
          <i class="question-icon"></i>
          <span>{{item.questionCount}}</span>
        {{/if}}
      </div>
      {{#if (or (eq item.collectionType 'assessment-external' ) (eq item.collectionType 'collection-external'))}}
        <i class="external-icon"></i>
      {{/if}}
    </div>
    {{#unless isUnScheduled}}
      <div class="dca-panel-actions-performance">
        {{#if collectionPerformanceSummary}}
          {{#if (and (not-eq item.collectionType 'collection' ) (not-eq item.collectionType 'collection-external'))}}
            <div class="dca-panel-performance" {{action 'openDcaContentReport' classActivity}} style="background-color:{{grade-color collectionPerformanceSummary.score}}">
              <span class="assessment-score">{{collectionPerformanceSummary.score}}%</span>
              {{#if collectionPerformanceSummary.timeSpent}}
                <span class="assessment-timespent">{{format-time collectionPerformanceSummary.timeSpent}}</span>
              {{/if}}
            </div>
          {{else}}
            <div class="dca-panel-performance collection" {{action 'openDcaContentReport' classActivity}}>
              <span class="time-spent">
                {{if collectionPerformanceSummary.timeSpent (format-time collectionPerformanceSummary.timeSpent) '--'}}
              </span>
            </div>
          {{/if}}
        {{else}}
          {{#if isShowAddData}}
            <div class="dca-panel-performance add-data {{if (eq classActivity.usersCount 0)'disabled'}}" {{action "onOpenPerformanceEntry" item classActivity false}}>
              {{t 'common.add-data'}}
            </div>
          {{else}}
            <div class="dca-panel-performance not-started">
              <span class="no-performance">--</span>
            </div>
          {{/if}}
        {{/if}}
      </div>
      {{else}}
        <div class="ca-panel-reschedule ca-datepicker-popover" onclick= {{action 'onScheduleContentToDCA' classActivity}}>
          <span class="icon"> {{gru-icon name="update"}}</span>
          <span>{{t 'common.schedule'}}</span>
        </div>
    {{/unless}}
  </div>
  {{#unless isUnScheduled}}
    <div class="ca-panel-container-2">
      <div class="student-count {{if showCohort 'active'}}">
        {{gru-icon name="account_circle"}}
        {{#if (eq classActivity.usersCount -1)}}
          <span {{action 'showStudentList'}}>{{t 'common.all'}}</span> {{else if (eq classActivity.usersCount 0)}}
          <span {{action 'showStudentList'}}>{{t 'common.none'}}</span>
        {{else}}
          <span {{action 'showStudentList'}}> {{classActivity.usersCount}}</span>
        {{/if}}
      </div>
      <div class="re-schedule">
        <div class="re-schedule-activity ca-datepicker-popover" onclick= {{action 'onScheduleContentToDCA' classActivity}}>
          {{#if collectionPerformanceSummary}}
            {{gru-icon name="replay"}}
            <span class="hidden-xs">{{t 'common.repeat-activity'}}</span>
          {{else}}
            {{gru-icon name="update"}}
            <span class="hidden-xs">{{t 'common.Reschedule'}}</span>
          {{/if}}
        </div>
      </div>
      <div class="mastery-accrual">
        {{#if (and showMasteryAccrual item.masteryAccrualCompetencies)}}
          <div class="mastery-accrual-btn" {{action "onUpdateMasteryAccrual"}}>
            <span class="mastery-accrual-icon mastery-accrual-{{if classActivity.allowMasteryAccrual 'checked' 'unchecked'}}">
              {{gru-icon name=(concat 'radio_button_' (if  classActivity.allowMasteryAccrual 'checked' 'unchecked'))}}
            </span>
            <span class="mastery-accrual-text {{if classActivity.allowMasteryAccrual 'selected'}} hidden-xs">{{t 'common.mastery'}}</span>
          </div>
        {{/if}}
      </div>
      <div class="dca-panel-actions">
        <div class="dca-rubric-icon">
          {{#if (gt item.oeQuestionCount 0)}}
            <i data-toggle="tooltip" data-html="true" data-placement="bottom" title="{{t "common.rubric"}}" class="rubric-icon"></i>
          {{/if}}
        </div>
        <div class="dca-golive-btn">
          {{!-- {{#if (and showGolive (or (eq item.collectionType 'assessment') (eq item.collectionType 'collection'))) }} --}}
          {{#if (and showGolive (eq item.collectionType 'assessment') ) }}
            <i data-toggle="tooltip" data-html="true" data-placement="bottom" title="{{t "common.launch-on-air"}}" class="golive-icon" {{action 'goLive' item}}></i>
          {{/if}}
        </div>
        <div class="dca-assign-btn">
          {{#if showDcaAssignButton}}
            <span class="dca-assign" data-toggle="tooltip" data-html="true" data-placement="top" title="{{t "common.assign"}}">
              {{#unless classActivity.isActive}}
                {{gru-switch switchOptions=switchOptions onOptionSwitch='changeVisibility' isChecked=classActivity.isActive item=item}}
              {{else}}
                {{gru-switch class="assigned" switchOptions=switchOptions  isChecked=classActivity.isActive item=item}}
              {{/unless}}
            </span>
          {{/if}}
        </div>
        <div class="dca-remove-btn">
          {{#if showDcaRemoveButton}}
            <span class="remove-dca" data-toggle="tooltip" data-html="true" data-placement="top" title="{{t "common.remove"}}" {{action 'removeClassActivity' classActivity}}>
              {{gru-icon name="remove_circle" }}
            </span>
          {{/if}}
        </div>
      </div>
      <div class="re-add-data {{if (eq classActivity.usersCount 0) 'disabled'}}">
        {{#if collectionPerformanceSummary}}
          <span {{action "onOpenPerformanceEntry" item classActivity true}}>{{t 'common.update-data'}}</span>
        {{/if}}
      </div>
    </div>
  {{/unless}}
</div>
{{#if showStudentListPullup}}
  {{teacher.class.ca-student-list-pull-up isActivityPast=isActivityPast classId=classId classActivity=classActivity members=members showPullUp=showStudentListPullup}}
{{/if}}
{{#if isShowStudentsSummaryReport}}
  {{teacher.offline-class.oca-students-summary-report-pull-up context=selectedActivity classActivities=activities classId=classId showPullUp=isShowStudentsSummaryReport onClosePullUp="pullUpClose"}}
{{/if}}
