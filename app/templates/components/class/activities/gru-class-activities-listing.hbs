<div class="class-activities-container">
  <div class="header-container">
    <div class="activity-date-range-selector" {{action "onToggleDatePicker"}}>
      <span class="schedule-icon">{{gru-icon name="event"}}</span>
      <span class="schedule-date">{{format-date startDate 'DD MMM YYYY'}} - {{format-date endDate 'DD MMM YYYY'}}</span>
    </div>
    <div class="unscheduled-activity-selector {{if isShowUnscheduledActivities 'active'}}" {{action "onLoadUnscheduledActivities"}}>
      {{gru-icon name="event_busy"}}
    </div>
    <div class="contents-selector">
      {{#each contentTypes as |content|}}
        <div class="content-selector {{if content.isActive 'active'}}" {{action "onToggleContent" content}}>
          <i class="icon {{content.type}}-icon"></i>
        </div>
      {{/each}}
    </div>
    <div class="items-to-grade-selector">
      <i class="grading-icon"></i>
    </div>
    <div class="date-range-picker-container">
      {{ca-date-picker
        showPreviousMonth="showPreviousMonth"
        showNextMonth="showNextMonth"
        forMonth=forMonth
        forYear=forYear
        onSelectDate="onSelectDate"
        updateMonthAndYear=false
        highlightFirstDayOfMonth=false
        onSelectToday="onSelectToday"
        showToday=true
        selectedDate=selectedDate
        activities=datewiseActivities
        highlightActivities=true
      }}
    </div>
  </div>
  <div class="body-container">
    <div class="activities-cards-container">
      {{#if isShowUnscheduledActivities}}
        {{#each unScheduledActivities as |unScheduledActivity|}}
          {{new-cards/gru-class-activity-card
            activity = unScheduledActivity
            isUnscheduledActivity = true
            onRescheduleActivity = "onRescheduleActivity"
          }}
        {{else}}
          You don't have any activities
        {{/each}}
      {{else}}
        {{#each scheduledActivitiesList as |scheduledActivity|}}
          {{new-cards/gru-class-activity-card
            activity = scheduledActivity
            onShowStudentsList = "onShowStudentsList"
            onOpenPerformanceEntry = "onOpenPerformanceEntry"
            onClosePerformanceEntry = "onClosePerformanceEntry"
            onRescheduleActivity = "onRescheduleActivity"}}
        {{else}}
          <div class="plan-activities-msg">
            Add activities to conduct in class.
          </div>
        {{/each}}
      {{/if}}
    </div>
  </div>
</div>

{{#if isShowDaterangePicker}}
  <div class="ca-datepicker-schedule-container ca-datepicker-popover-container">
    {{ca-daterange-datepicker
      closeDatePicker='onCloseDaterangePicker'
      onScheduleForDate='onScheduleByDate'
      onScheduleForMonth='onScheduleByMonth'
      endDate=endDate
      allowTwoDateRangePicker=allowTwoDateRangePicker}}
  </div>
{{/if}}

{{#if isShowStudentsList}}
  {{teacher/class/ca-student-list-pull-up
    classActivity = selectedActivityClass.activity
    classId = selectedActivityClass.id
    members = selectedActivityClass.members
    showPullUp = isShowStudentsList}}
{{/if}}

<!-- Acitvity Add Performance Data -->
{{#if isShowAddData}}
  {{#reports/pull-up/activity/add-performance-data
    showPullUp = isShowAddData
    activityDate = selectedClassActivity.activationDate
    activityTitle = selectedActivityContent.title
    onClosePullUp = "onClosePerformanceEntry"
    contentType = selectedActivityContent.collectionType
  }}
    {{reports/pull-up/activity/add-student-performance-data
      collection = selectedActivityContent
      course = selectedClassData.course
      class = selectedClassData
      students = selectedClassActivityMembers
      activityData = selectedClassActivity
      onClosePullUp = "onClosePerformanceEntry"
      contentType = selectedActivityContent.collectionType
    }}
  {{/reports/pull-up/activity/add-performance-data}}
{{/if}}
