{{#if isLoading}}
  {{three-bounce-spinner}}
{{/if}}
<div class="performance-container">
  <div class="performance-header-container">
    <div class="proficiency-info">
      <div class="subject">{{t 'teacher-landing.class.students-tab.proficiency-in'}} {{subjectFramework}}</div>
      <div class="students-count">
        {{classMembers.length}} {{t 'common.students'}} | {{domainCoverageCount.length}} {{t 'common.domains'}} / {{totalCompetencies}} {{t 'common.competencies'}}
      </div>
    </div>
    <div class="competency-coverage-container">
      <div class="course-coverage-container">
        <div class="title">{{t 'teacher-landing.class.students-tab.course-coverage'}}</div>
        <div class="coverage-count">
          <div class="count-container notstarted-count">
            <span class="count-box"></span><span class="competency-count">{{courseCoverageCount.not-started}}</span>
          </div>
          <div class="count-container inprogress-count">
            <span class="count-box"></span><span class="competency-count">{{courseCoverageCount.in-progress}}</span>
          </div>
          <div class="count-container mastered-count">
            <span class="count-box"></span><span class="competency-count">{{courseCoverageCount.mastered}}</span>
          </div>
        </div>
      </div>

      <div class="domains-coverage-container scrollable-container">
        {{#each domainCoverageCount as |domain|}}
          <div class="domain-coverage-count">
            <div class="domain-name title" {{action "onSelectDomain" domain}}>
              {{domain.domainName}}
            </div>
            <div class="coverage-count">
              <div class="count-container notstarted-count">
                <span class="count-box"></span><span class="competency-count">{{domain.not-started}}</span>
              </div>
              <div class="count-container inprogress-count">
                <span class="count-box"></span><span class="competency-count">{{domain.in-progress}}</span>
              </div>
              <div class="count-container mastered-count">
                <span class="count-box"></span><span class="competency-count">{{domain.mastered}}</span>
              </div>
            </div>
          </div>
        {{/each}}
      </div>
      <div class="scroll-controller">
        {{#if (gt domainCoverageCount.length 5)}}
          <div class="left" {{action "onClickArrow" 'left'}}>
            {{gru-icon name="keyboard_arrow_left"}}
          </div>
          <div class="right" {{action "onClickArrow" 'right'}}>
            {{gru-icon name="keyboard_arrow_right"}}
          </div>
        {{/if}}
      </div>
    </div>
  </div>
  <div class="performance-body-container students-performance-container">
    <div class="students-container">
      {{#each studentsDomainPerformance as |student|}}
        <div class="student-container tab-container">
          <div class="thumbnail-container" style="background-image: url({{student.thumbnail}});"></div>
          <div class="student-name">{{student.fullName}}</div>
        </div>
      {{/each}}
    </div>
    <div class="domains-performance-container scrollable-container">
      {{#each studentsDomainPerformance as |studentPerformance studentSeq|}}
        <div class="domain-performance-container">
          {{#each studentPerformance.domainCompetencies as |domainCompetencies|}}
            <div class="performance-chart-container tab-container">
              {{charts.student-domain-performance domainSeq=domainCompetencies.domainSeq studentSeq=studentSeq competencies=domainCompetencies.competencies}}
            </div>
          {{/each}}
        </div>
      {{/each}}
    </div>
  </div>
</div>
