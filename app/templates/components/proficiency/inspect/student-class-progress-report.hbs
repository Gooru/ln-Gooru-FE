<div class="individual-report-container">
  <div class="print-preview" title="{{t 'common.download'}}" data-toggle="tooltip" {{action "onPrintPreview"}}>
    {{gru-icon name="get_app"}}
  </div>
  <div class="report-container">
    <div class="report-summery">
      <div class="left-panel">
        <div class="student-info">
          <span class="student-thumbnail" style="background-image: url({{studentProfile.thumbnailUrl}}) !important"></span>
          <span class="student-name">{{studentProfile.firstName}},  {{studentProfile.lastName}}</span>
        </div>
        <span class="class-name">{{class.title}} ({{teacher.firstName}} {{teacher.lastName}})</span>
      </div>
      <div class="right-panel">
        <div class="tenan-info">
          <span class="tenant-logo" style="background-image: url({{tenantLogoUrl}}) !important"></span>
          <span class="tenant-name">{{tenantName}}</span>
        </div>
        {{#if reportStartDate}}
          <span class="date">{{format-date reportStartDate 'MMMM DD,YYYY'}} - {{format-date reportEndDate 'MMMM DD, YYYY'}}</span>
        {{else}}
          <span class="date">{{t 'beginning-till-now'}}</span>
        {{/if}}
      </div>
    </div>
    <div class="report-overview">
      <div class="title">{{t 'class-progress-report.individual-report.overview'}}:</div>
      <div class="student-report">
        <div class="header">
          <div class="competencies-label">
            <div class="label-text">{{t 'common.competencies'}}</div>
            <div class="sub-header">
              <div class="header-data gained-header">{{t 'common.gained'}}</div>
              <div class="header-data inferred-header">{{t 'common.inferred'}}</div>
              <div class="header-data inprogress-header">{{t 'profile.proficiency.in-progress'}}</div>
            </div>
          </div>
          <div class="timespent-label">
            <div class="label-text">{{t 'gru-data-picker.time-spent'}}</div>
            <div class="sub-header">
              <div class="header-data collection-header">{{t 'common.collections'}}</div>
              <div class="header-data assessment-header">{{t 'common.assessments'}}</div>
              <div class="header-data total-header">{{t 'reports.gru-table-view.totals'}}</div>
            </div>
          </div>
          <div class="header-data badge-earned-label label-text">
            {{t 'badges-earned'}}
          </div>
          <div class="header-data average-score-label label-text">
            {{t 'common.averageScore'}}
          </div>
          <div class="header-data suggestion-taken-label label-text">
            {{t 'suggestion-taken'}}
          </div>
        </div>
        <div class="body">
          <div class="student-summary-container">
            <div class="summary-container">
              <div class="column-data gained-competencies">
                {{#if reportData.weeklyReportData.masteredCompetenciesCount}}
                  <span class="competency-count">{{reportData.weeklyReportData.masteredCompetenciesCount}}</span>
                {{else}}
                  --
                {{/if}}
              </div>
              <div class="column-data inferred-competencies">
                {{#if reportData.weeklyReportData.inferredCompetenciesCount}}
                  <span class="competency-count">{{reportData.weeklyReportData.inferredCompetenciesCount}}</span>
                {{else}}
                  --
                {{/if}}
              </div>
              <div class="column-data inprogress-competencies">
                {{#if reportData.weeklyReportData.inprogressCompetenciesCount}}
                  <span class="competency-count">{{reportData.weeklyReportData.inprogressCompetenciesCount}}</span>
                {{else}}
                  --
                {{/if}}
              </div>
              <div class="column-data collection-timespent">
                <span class="time-spent">
                  {{#if reportData.weeklyReportData.collectionTimespent}}
                    {{format-time reportData.weeklyReportData.collectionTimespent}}
                  {{else}}
                    --
                  {{/if}}
                </span>
              </div>
              <div class="column-data assessment-timespent">
                <span class="time-spent">
                  {{#if reportData.weeklyReportData.assessmentTimespent}}
                    {{format-time reportData.weeklyReportData.assessmentTimespent}}
                  {{else}}
                    --
                  {{/if}}
                </span>
              </div>
              <div class="column-data total-timespent">
                <span class="time-spent">
                  {{#if reportData.weeklyReportData.totalTimespent}}
                    {{format-time reportData.weeklyReportData.totalTimespent}}
                  {{else}}
                    --
                  {{/if}}
                </span>
              </div>
              <div class="column-data badge-earned">
                {{#if reportData.weeklyReportData.badgeEarned}}
                  <span class="badge"><span class="badge-count">{{reportData.weeklyReportData.badgeEarned}}</span></span>
                {{else}}
                  --
                {{/if}}
              </div>
              <div class="column-data average-score">
                {{#unless reportData.weeklyReportData.isNotStarted}}
                  <span class="score score-range-{{grade-range reportData.weeklyReportData.averageScore}}">{{reportData.weeklyReportData.averageScore}}</span>
                {{else}}
                  --
                {{/unless}}
              </div>
              <div class="column-data suggestion-taken">
              {{#if reportData.weeklyReportData.suggestionTaken}}
                <span class="suggestion-count">{{reportData.weeklyReportData.suggestionTaken}}</span>
              {{else}}
                --
              {{/if}}
            </div>
            </div>
          </div>
        </div>
      </div>
      <div class="competencies-report">
        <div class="mastery-competencies">
          <div class="header">
            {{t 'class-progress-report.individual-report.competencies-mastery'}}
          </div>
          <div class="body">
            {{#each reportData.weeklyReportData.masteredCompetencies as |competency|}}
              <div>{{competency.code}}</div>
            {{/each}}
          </div>
        </div>
        <div class="in-progress-competencies">
          <div class="header">
            {{t 'class-progress-report.individual-report.competencies-inprogress'}}
          </div>
          <div class="body">
            {{#each reportData.weeklyReportData.inprogressCompetencies as |competency|}}
              <div>{{competency.code}}</div>
            {{/each}}
          </div>
        </div>
      </div>
    </div>
    <div class="skyline-report">
      <div class="skyline-summery">
        <span class="date">{{t 'class-progress-report.individual-report.skyline-title'}}: {{currentDate}}</span>
      </div>
      <div class="skyline-overview">
        <div class="chart">
          <div class="proficiency-chart">
            {{proficiency/learner-proficiency-domain-matrix
              subjectBucket=subjectBucket
              timeLine=timeLine
              userId=studentProfile.id
              subject=activeSubject
              class=class
              competencyMatrixDomains=competencyMatrixDomains
              competencyMatrixCoordinates=competencyMatrixCoordinates
              isSelectBaseLine=isSelectBaseLine
              userProficiencyBaseLine=userProficiencyBaseLine
              isShowMatrixChart=isShowMatrixChart
              selectedDomain=selectedDomain
              taxonomyGrades=taxonomyGrades
              showGutCompetency=showGutCompetency
              hideGutCompetencyButton=hideGutCompetencyButton
              classGrade=classGrade
              subjectCode=subjectCode
              selectedCompetency=selectedCompetency
              fwCompetencies=fwCompetencies
              isPlayerProficiency = isPlayerProficiency
            }}
          </div>
          <div class="proficiency-tags">
            <div class="proficiency-legends">
              <div class="mastered legend">
                <span class="box"></span>
                <span class="title">{{t 'profile.proficiency.mastered'}}</span>
              </div>
              <div class="in-progress legend">
                <span class="box"></span>
                <span class="title">{{t 'profile.proficiency.in-progress'}}</span>
              </div>
              <div class="not-started legend">
                <span class="box"></span>
                <span class="title">{{t 'profile.proficiency.not-started'}}</span>
              </div>
              <div class="show-gut legend">
                <span class="box"></span>
                <span class="title">{{t 'competencies-not-in-framework'}}</span>
              </div>
              <div class="skyline legend">
                <span class="box-skyline"></span>
                <span class="title">{{t 'profile.proficiency.skyline'}}</span>
              </div>
              <div class="class-grade-line legend">
                <span class="box-class-grade-line"></span>
                <span class="title">{{t 'grade-selector.placeholder'}}</span>
              </div>
            </div>
          </div>
          <div class="time-series-container">
            {{charts/monthly-time-series-chart startDate=timeSeriesStartDate}}
          </div>
        </div>
        <div class="competencies-list">
          <div class="subject-name">{{activeSubject.title}} {{t 'common.domains'}}</div>
          {{#each competencyMatrixCoordinates.domains as |domain index|}}
            <div class="domain-name">
              <span>{{plus-one index}}.</span>
              <span>{{domain.domainName}}</span>
            </div>
          {{/each}}
        </div>
      </div>
    </div>
  </div>
</div>
