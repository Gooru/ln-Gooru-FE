<div class="domain-competency-performance-container">
  <div class="performance-header-container">
    <div class="domain-details">
      <div class="domain-info">
        <div class="back-arrow" {{action "onClickBack"}}>
          {{gru-icon name="arrow_back"}}
        </div>
        <div class="center-content">
          <div class="move-left {{if (lte activeDomainSeq 1) 'disabled'}}" {{action "onChangeDomainSeq" 'left'}}>
            {{gru-icon name="chevron_left"}}
          </div>
          <div class="domain-name ellipsis">
            {{concat activeDomain.domainSeq '. ' (domain-gut-to-fw-transform fwDomains activeDomain.domainCode activeDomain.domainName 'fwDomainName' true)}}
          </div>
          <div class="move-right {{if (gte activeDomainSeq numberOfDomains) 'disabled'}}" {{action "onChangeDomainSeq" 'right'}}>
            {{gru-icon name="chevron_right"}}
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="performance-body-container">
    <div class="students-container">
      {{#each activeDomainCompetencyPerformance.studentCompetencies as |student|}}
        <div class="student-container">
          <div class="user-profile-img">
            {{#if student.selectedForSuggestion}}
              <div class="selected-user-for-suggestion">
                {{gru-icon name="done_all"}}
                <div class="de-select-user" {{action 'onDeSelectStudentForSuggestion' student bubbles=false}}>
                  {{gru-icon name="close"}}
                </div>
              </div>
            {{else}}
              <img src="{{student.avatarUrl}}" class="{{if student.selectedForSuggestion 'selected'}}" {{action 'onSelectStudentForSuggestion' student bubbles=false}} />
            {{/if}}
          </div>
          <div class="student-name">
            {{student.fullName}}
          </div>
        </div>
      {{/each}}
    </div>
    <div class="students-competencies-performance-container {{if showCompetencyInfo 'show-competency'}}">
      <div class="competencies-info">
        {{#each activeDomainCompetencyPerformance.domainData.competencies as |competency|}}
          <div class="competency-info {{if (eq selectedCompetencyForSuggestion.competencyCode competency.competencyCode) 'active'}}" {{action 'onSelectCompetency' competency}}>
            <i class="info-icon" title="{{competency-gut-to-fw-transform
               fwCompetencies
               competency.competencyCode
               (if competency.competencyStudentDesc competency.competencyStudentDesc competency.competencyCode)
               'frameworkCompetencyName'
               false
               true
              }}" data-toggle="tooltip" data-placement="bottom auto">
            </i>
          </div>
        {{/each}}
      </div>
      {{#each activeDomainCompetencyPerformance.studentCompetencies as |studentCompetencyPerformance|}}
        <div class="competencies-performance-container">
          {{#each studentCompetencyPerformance.competencies as |competencyPerformance|}}
            <div class="competency-performance tab-container {{if (eq selectedCompetencyForSuggestion.competencyCode competencyPerformance.competencyCode) 'active'}}"
              {{action "onSelectStudentCompetency" competencyPerformance studentCompetencyPerformance.userId}}>
              <div class="check-circle status-{{competencyPerformance.status}}"></div>
            </div>
          {{/each}}
        </div>
      {{/each}}
    </div>
  </div>
</div>
<div class="domain-right-panel">
  {{proficiency/domain-info-pull-up
    fwDomains=fwDomains
    fwCompetencies=fwCompetencies
    onSelectCompetency="onSelectCompetency"
    showPullUp=true
    competencies=domainCompetencies
    domain=activeDomain
  }}
  {{#if showCompetencyInfo}}
    {{proficiency/competency-info-pull-up
      fwDomains=fwDomains
      fwCompetencies=fwCompetencies
      students=studentsSelectedForSuggest
      isInspectCompetency=showCompetencyInfo
      class=class
      onClosePullUp="onClosePullUp"
      isStudent=false
      studentListForSuggestion=studentsSelectedForSuggest
      competency=selectedCompetencyForSuggestion
      domainCompetencyList=domainCompetencies
    }}
  {{/if}}
</div>
{{#if isShowCompetencyContentReport}}
  {{#reports/pull-up/competency-report
    fwDomains=fwDomains
    fwCompetencies=fwCompetencies
    type=(if selectedCompetency.competencyStudentDesc selectedCompetency.competencyStudentDesc selectedCompetency.competencyCode)
    title=selectedCompetency.competencyStudentDesc
    showPullUp=isShowCompetencyContentReport
    onClosePullUp="onCloseCompetencyReportPullUp"
    competency=selectedCompetency
  }}
    {{reports/pull-up/competency-content-report
     fwCompetencies=fwCompetencies
     domainCompetencyList=domainCompetencyList
     competency=selectedCompetency
     class=class
     userId=selectedStudentUserId
     learningMapData=learningMapData
   }}
  {{/reports/pull-up/competency-report}}
{{/if}}
