{{#if model.isEditing}}
  <div class="panel panel-default edit">
    <div class="panel-heading">

      {{#if lesson.id}}
        <h3>{{t "common.lesson"}} {{plus-one index}}</h3>
      {{else}}
        <h3>{{t "common.lesson"}} {{totalItems}}</h3>
      {{/if}}

      {{validation.gru-input model=tempLesson valuePath='title' class="title" maxLength=50}}

      <div class="actions">
        <button class="cancel btn btn-info"  {{action 'cancelEdit'}}>{{t "common.cancel"}}</button>
        <button class="save btn btn-success" {{action 'saveLesson'}}>{{t "common.save"}}</button>
      </div>
      <div class="panel-body">
        <div class="data-row standards">
          <span>{{t "common.standards"}}</span>
          <button type="button" class="btn btn-primary btn-sm add-prefix">{{t "common.add"}}</button>
        </div>
      </div>
    </div>
  </div>
{{/if}}

<div class="panel panel-default view {{if model.isExpanded 'expanded' 'collapsed'}}">
  <div class="panel-heading">
    <h3><a href="#" {{action 'toggle'}}>{{t "common.lesson"}} {{plus-one index}}</a></h3>
    <strong><a href="#" {{action 'toggle'}}>{{lesson.title}}</a></strong>

    <div class="detail">
      {{#if (or lesson.assessmentCount lesson.collectionCount)}}
        <div class="{{if (and lesson.assessmentCount lesson.collectionCount) 'mixed'}}">
        {{#if lesson.assessmentCount}}
          <span><b>{{lesson.assessmentCount}}</b> {{t "common.assessment-pl" count=lesson.assessmentCount}}</span>
        {{/if}}
        {{#if lesson.collectionCount}}
          <span><b>{{lesson.collectionCount}}</b> {{t "common.collection-pl" count=lesson.collectionCount}}</span>
        {{/if}}
        </div>
      {{else}}
        <span>{{t "common.add"}}</span>
      {{/if}}

      <div class="actions">
        <div class="dropdown">
          <button class="btn add-item dropdown-toggle" type="button" data-toggle="dropdown">{{gru-icon name="add"}}</button>
          <ul class="dropdown-menu dropdown-menu-right">
            <li><a href="#">{{t "common.from-my-collections"}}</a></li>
            <li><a href="#">{{t "common.from-my-assessments"}}</a></li>
            <li><a href="#" {{action "showModal" "content.modals.gru-collection-new" newCollectionModel}}>{{t "common.new-collection"}}</a></li>
            <li><a href="#" {{action "showModal" "content.modals.gru-assessment-new" newCollectionModel}}>{{t "common.new-assessment"}}</a></li>
          </ul>
        </div>
        <button class="btn sort-items" {{action 'swap'}}>{{gru-icon name="swap_vert"}}</button>
          <div class="item-actions">
              <button class="btn edit-item" {{action 'edit' model}}>{{gru-icon name="edit"}}</button>
            {{partial 'content/partials/item-actions'}}
          </div>
      </div>
    </div>
  </div>
  <div class="panel-body">

    <ol class="accordion-lesson" role="tablist" aria-multiselectable="true">

      {{#each items as |item index|}}

        {{content.courses.gru-accordion-lesson-item
          model=item
          index=index }}

      {{/each}}
    </ol>

    <div>
      <button class="btn btn-success add-prefix">{{t "common.from-my-collections"}}</button>
      <button class="btn btn-success add-prefix">{{t "common.from-my-assessments"}}</button>
      <button class="btn btn-success add-prefix" {{action "showModal" "content.modals.gru-collection-new" newCollectionModel}}>{{t "common.new-collection"}}</button>
      <button class="btn btn-success add-prefix" {{action "showModal" "content.modals.gru-assessment-new" newCollectionModel}}>{{t "common.new-assessment"}}</button>
    </div>

  </div>
</div>
