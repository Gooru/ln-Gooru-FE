{{player/gru-study-header
  classId=classId
  class=class
  collection=collection
  courseId=course.id
  courseTitle=course.title
  sourceType= source
  showConfirmation=(if isOfflineActivity false true)
  isStudyPlayer=true
  isIframeMode=isIframeMode
}}
<div class="player-container {{type}} {{if isIframeMode 'iframe-player-container' ''}}">
  <div class="player">
    {{#if isLoading}}
      {{three-bounce-spinner}}
    {{else}}
      {{#if isOfflineActivity}}
        {{player/gru-offline-activity-page
          offlineActivity = collection
          source = source
          mapLocation = mapLocation
          isStudyPlayer = true
          isIframeMode=isIframeMode
          onSkipFeedback="playNext"
          isDone=isDone
          onExit="onExit"
        }}
      {{else if isAsssessment}}
        {{player/gru-external-assessment-page
        assessment=collection
        mapLocation=mapLocation
        source=source
        isNewPlayer=isNewPlayer
        dataParams=dataParams
        onSkipFeedback="playNext"
        isDone=isDone
        onExit="onExit"
      }}
      {{else}}
        {{player/gru-external-collection-page
        assessment=collection
        mapLocation=mapLocation
        source=source
        isNewPlayer=isNewPlayer
        onSkipFeedback="playNext"
        isDone=isDone
        onExit="onExit"
      }}
      {{/if}}
    {{/if}}
  </div>
</div>
<div class="footer">
  {{player/gru-external-assessment-footer
    assessment=collection
    playNext="playNext"
    isFullScreen=isFullScreen
    onToggleScreen="onToggleScreen"
    isDone=isDone
    classId=classId
    courseId=courseId
    onExit="onExit"
  }}
</div>
