<div class="teacher class"> {{gru-take-tour steps=steps containerClass='class-view-tour'}}

   {{teacher.class.gru-class-navbar navTitle= class.title class=class onItemSelected="selectMenuItem" selectedMenuItem=menuItem
  isPremiumClass = isPremiumClass onOpenCourseReport="onOpenCourseReport"}}

  <div class="header clearfix">
    <div class="go-back-container">
      {{#if backUrls}}
        <a {{action 'backToClassReport' }} class="back-to">
            {{gru-icon name='arrow_back'}}
          {{t "common.back-to-report"}}
          </a>
      {{else}}
        {{#if class.isArchived}}
          {{#link-to 'teacher-home' (query-params showArchivedClasses="true" showActiveClasses="false" ) class="back-to" }}
            {{gru-icon name='arrow_back'}} {{t 'teacher-landing.class.back-to-archived'}}
          {{/link-to}}
        {{else}}
          {{#link-to 'teacher-home' class="back-to" }}
            {{gru-icon name='arrow_back'}} {{t 'teacher-landing.class.back-to'}}
          {{/link-to}}
        {{/if}}
      {{/if}}
      <h1>{{class.title}}</h1>
    </div>
    <div class="panel panel-default panel-primary classroom-information  hide-classroom-information" >
      <div class="panel-body">
        <div class="course-image">
          {{#if course.thumbnailUrl}}
            <img src="{{course.thumbnailUrl}}" />
          {{else}}
            <div class="no-course-image"></div>
          {{/if}}
        </div>
        <div class="course-name {{if isPremiumClass 'isPremiumClass' ''}}">
          {{#if course.title}}
            {{{truncate text=course.title maxLength=50}}}
          {{else}}
            {{t 'student-landing.class.no-course'}}
          {{/if}}
        </div>
        <div class="counts-container">
          <div class="count">
            {{#if hasUnits}}
              {{gru-icon tooltipTitle='common.unit' name="format_align_center"}}
              <span>{{course.unitCount}}</span>
            {{/if}}
          </div>
          <div class="count">
            {{#if hasStudents}}
              {{gru-icon tooltipTitle='common.student' name="people"}}
              <span>{{class.countMembers}}</span>
            {{/if}}
          </div>
        </div>
        <div class="teacher-profile">
          {{#if class.owner}}
            <img class="img-responsive" src="{{class.owner.avatarUrl}}" {{action 'profileTeacher' class.owner}}>
            <span class="owner-name">
              {{#if class.owner.firstName}}
                {{truncate text=(concat class.owner.firstName ' ' class.owner.lastName) maxLength=25}}
              {{else}}
                {{class.owner.username}}
              {{/if}}
            </span>
          {{/if}}
        </div>
        <div class="taxonomy-standards">
          {{#if course.tags.length}}
            {{taxonomy.gru-taxonomy-tag-list tags=course.tags tagsVisible=1 isInCard=true hasTooltips=false}}
          {{/if}}
        </div>
        <div class="class-code">
          <div class="title">{{t 'student-landing.class-code'}}</div>
          <div class="code">{{class.code}}</div>
        </div>
        <div class="copy-code">
          {{gru-copy-value value=class.code tooltipCode="teacher-landing.class.click-to-copy"}}
        </div>
        {{#if (not isPremiumClass)}}
          <div class="performance-container">
            {{charts/gru-performance-chart performanceSummary=class.performanceSummary routeToGo="teacher.class.performance"}}
          </div>
        {{/if}}
      </div>
    </div>
  </div>

  {{!-- {{teacher.class.gru-class-navigation
    class=class
    onItemSelected="selectMenuItem"
    onCollapseExpandClicked="toggleHeader"
    selectedMenuItem=menuItem}} --}}



  <div class="content">
    {{outlet}}
  </div>


</div>
{{#if showCourseReportPullUp}}
  {{#reports.gru-report-pull-up  breadcrumb=(concat 'Course') title=course.title  showPullUp=showCourseReportPullUp  as |courseReport| }}
    {{#if courseReport.isShowBody}}
        {{reports.gru-course-report-body-pull-up courseData=course  classData=class showPullUp=showCourseReportPullUp onClosePullUp="onClosePullUp" onOpenCourseReport="onOpenCourseReport"}}
    {{/if}}
  {{/reports.gru-report-pull-up}}
{{/if}}

{{#if isShowUnitReportPullUp}}
{{#reports.gru-report-pull-up breadcrumb=(concat 'Unit' unitPullUpData.unit.sequence) title=unitPullUpData.unit.title score=unitPullUpData.unit.performance.score showPullUp=isShowUnitReportPullUp  as |unitReport| }}
  {{#if unitReport.isShowBody}}
    {{reports.gru-unit-report-body-pull-up selectedUnit=unitPullUpData showPullUp=isShowUnitReportPullUp onClosePullUp="onClosePullUp" classId=classId courseId=courseId unitId=unitId onOpenLessonReport="onOpenLessonReport"}}
  {{/if}}
{{/reports.gru-report-pull-up}}
{{/if}}

{{#if isShowLessonReportPullUp}}
  {{#reports.gru-report-pull-up breadcrumb=(concat 'Lesson' lessonReportData.lesson.sequence) title=lessonReportData.lesson.title score=lessonReportData.lesson.performance.score showPullUp=isShowLessonReportPullUp as |lessonReport| }}
    {{#if lessonReport.isShowBody}}
      {{reports.gru-lesson-report-body-pull-up onClosePullUp="onClosePullUp" showPullUp=isShowLessonReportPullUp context=lessonReportData teacherCollectionReport='teacherCollectionReport'}}
    {{/if}}
  {{/reports.gru-report-pull-up}}
{{/if}}

{{#if isShowStudentReport}}
  {{class.gru-report-panel showPullUp=isShowStudentReport reportData=studentReportData model=studentReportData.lesson isStudent=studentReportData.isStudent onClosePullUp="onClosePullUp"}}
{{/if}}

{{#if isShowCollectionReportPullUp}}
  {{reports.pull-up.collection-report context=teacherCollectionReportData showPullUp=isShowCollectionReportPullUp studentReport="studentReport"}}
{{/if}}
